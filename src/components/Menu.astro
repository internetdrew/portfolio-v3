---
import { Image } from "astro:assets";
import caratIcon from "../icons/right-carat.svg";
---

<div class="relative">
  <div
    id="menu"
    class="absolute bg-slate-100 invisible opacity-0 transition-opacity duration-150 top-7 right-0 min-w-32 border border-slate-800 rounded-md flex flex-col overflow-hidden sm:text-base sm:static sm:flex-row sm:border-0 sm:gap-4 sm:bg-transparent sm:visible sm:opacity-100"
  >
    <a
      href="/about"
      class="border-b border-slate-300 p-2 underline-offset-2 sm:border-b-0 sm:bg-none hover:bg-slate-700 hover:text-slate-50 sm:hover:bg-transparent sm:hover:text-inherit sm:hover:underline"
    >
      About
    </a>
    <a
      href="/blog"
      class="p-2 underline-offset-2 hover:bg-slate-700 hover:text-slate-50 sm:hover:bg-transparent sm:hover:text-inherit sm:hover:underline"
    >
      Blog
    </a>
  </div>
  <div id="menu-btn" class="flex cursor-pointer sm:hidden">
    <p>Menu</p>
    <Image
      id="carat-icon"
      src={caratIcon}
      alt="right carat icon"
      class="transition duration-75"
    />
  </div>
</div>

<script>
  const menuBtn = document.getElementById("menu-btn");
  const menu = document.getElementById("menu");
  const rightCarat = document.getElementById("carat-icon");

  function showMenu() {
    menu?.classList.toggle("invisible");

    if (menu?.classList.contains("opacity-0")) {
      menu?.classList.remove("opacity-0");
      menu?.classList.add("opacity-100");
    }

    rightCarat?.classList.toggle("rotate-90");
  }

  menuBtn?.addEventListener("click", showMenu);
</script>
